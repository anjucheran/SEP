<% include partials/header %>

<%
  const days = ['Sunday', 'Monday', 'Tuesday', 'Wednesday', 'Thursday', 'Friday', 'Saturday'];
  const months = ['January', 'February', 'March', 'April', 'June', 'July', 'August', 'September', 'November', 'December'];
  day = days[today.getDay()];
  month = months[today.getMonth()];
  date = today.getDate();
  const dayText = day + ', ' + month + ' ' + date;
  const hour = today.getHours();

  let monthd = today.getMonth();
  let dated = date;

  if(today.getMonth() < 9) {
    monthd = '0' + (today.getMonth() + 1);
  }
  else {
    monthd = today.getMonth() + 1;
  }
  if(date < 10) {
    dated = '0' + date;
  }
  const dayd = today.getFullYear() + '-' + monthd + '-' + dated;
%>

<h1 style="text-align:center; margin-top:1em; margin-bottom:1em;" class="border"><%= centre.name %> - <%= dayText %></h1>
<div class="row">
<div class="table-responsive-sm col-sm-8">
  <table class="table table-bordered">
    <thead class="thead-dark">
      <tr>
        <th scope="col">Doctor</th>
         <th scope="col">Available Time</th>
      </tr>
    </thead>
    <tbody>
      <%
      timeslots.forEach((timeslot) => {
      %>
        <tr>
          <th scope="row"><%= timeslot.doctor.name %></th>
          <td><%= timeslot.start %> - <%= timeslot.end %></td>
        </tr>
      <%
      });
      %>
    </tbody>
  </table>
</div>

<div class="col-sm-4 border" style="padding-top:0.3em; height:100%;">
  <h4 scope="col"><%= centre.name %></h4>
  <hr>
  <ul style="list-style-type: none; padding-left:0em;">
    <li><a href="/centre/<%=id%>/doctors">View Doctors</a></li>
    <li><a href="/centre/<%=id%>/operators">View Operators</a></li>
    <li><a href="/centre/<%=id%>/schedule/<%=dayd%>">View Schedule</a></li>
  </ul>
</div>
</div>

<% include partials/footer %>